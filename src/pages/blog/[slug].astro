---
import type { GetStaticPathsOptions, GetStaticPathsResult, Page } from 'astro';
import { PAGE_SIZE } from 'site-config';
import BlogList from 'layouts/BlogList.astro';
import { sortPostsByRecency } from 'utils/posts-helpers';
import type { MyPostInstance, PostFrontMatter } from 'utils/types';

export async function getStaticPaths(opt: GetStaticPathsOptions): Promise<GetStaticPathsResult> {
	const allPosts = await Astro.glob<PostFrontMatter>('../../posts/**/*.md');

	return allPosts.map((post, i) => {
		console.log('post', post);

		return { params: { slug: `post-${i}` } };
	});
}

const { page } = Astro.props as { page: Page<MyPostInstance> };
---
